<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Comment les aider ?</title>
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=1" />
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link rel="stylesheet" href="./css/styleCommentAider.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@500;700&display=swap" rel="stylesheet">

    <!-- HEADER -->
    <link rel="stylesheet" href="css/menu.css">
    <script src="js/menuPopup.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.0.1/lib/anime.min.js"></script>
</head>
<body>
<header id="headerMenu" class="main"> </header>

<div class="swiper-container horizontal-slider">
    <div class="swiper-wrapper">
        <!--div class="swiper-slide" id="mammiferes">
            <p class="categorie" >AIDEZ LES MAMMIFERES</p>
            <p class="conseil">Ceci est le titre du conseil</p>
            <p class="description">Ceci est une description. Elle indique comment aider les mammifères. Merci de respecter ces conseils à la lettre.</p>
            <a class="action">Choisissez votre action</a>
        </div>
        <div class="swiper-slide" id="test">
            <p class="categorie" >AIDEZ LES OISEAUX</p>
            <p class="description">Ceci est une description. Elle indique comment aider les mammifères. Merci de respecter ces conseils à la lettre.</p>
            <a class="action">Choisissez votre action</a>
        </div-->
    </div>
    <!-- Arrows -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
    <!-- Pagination -->
    <div class="swiper-pagination"></div>
</div>

</body>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

<script>
    async function createPageConseil() {

        async function getData(dbPath) {
            const response = await fetch(dbPath)
            return await response.json()
        }

        const donnees = await getData("data/tipsDB.json")

        const name = 'Chiroptères'

        const dictionnaire = donnees[name]

        console.log(dictionnaire)

        const wrapper = document.getElementsByClassName("swiper-wrapper")[0]

        for (let conseil in dictionnaire) {

            // On créé l'objet HMTL pour le slide
            let slide = document.createElement("div")
            // Changer l'id
            slide.id = name
            // Changer la classe
            slide.className = "swiper-slide"

            let titreCategorie = document.createElement("p")
            titreCategorie.className = "categorie"
            titreCategorie.innerText = "AIDEZ LES " + name.toUpperCase()

            let titreConseil = document.createElement("p")
            titreConseil.className = "conseil"

            let description = document.createElement("p")
            description.className = "description"

            let action = document.createElement("p")
            action.className = "action"
            action.innerText = "Choisissez votre action"

            // Pour chaque clé conseil
            let desc = dictionnaire[conseil]

            titreConseil.innerText = conseil
            description.innerText = desc

            slide.appendChild(titreCategorie)
            slide.appendChild(titreConseil)
            slide.appendChild(description)
            slide.appendChild(action)

            wrapper.appendChild(slide)
        }

        // Slider horizontal
        var horizontalSlider = new Swiper('.horizontal-slider', {
            loop: true,
            nested: true,
            navigation: {
                prevEl: '.swiper-button-prev',
                nextEl: '.swiper-button-next',
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
        });

    }

    createPageConseil();



</script>
</html>